   1              	 .syntax unified
   2              	 .cpu cortex-m4
   3              	 .eabi_attribute 27,3
   4              	 .fpu fpv4-sp-d16
   5              	 .eabi_attribute 20,1
   6              	 .eabi_attribute 21,1
   7              	 .eabi_attribute 23,3
   8              	 .eabi_attribute 24,1
   9              	 .eabi_attribute 25,1
  10              	 .eabi_attribute 26,1
  11              	 .eabi_attribute 30,6
  12              	 .eabi_attribute 34,1
  13              	 .eabi_attribute 18,4
  14              	 .thumb
  15              	 .file "foeappl.c"
  16              	 .text
  17              	.Ltext0:
  18              	 .cfi_sections .debug_frame
  19              	 .comm nFileSize,4,4
  20              	 .comm nFileWriteOffset,4,4
  21              	 .comm aFileName,16,4
  22              	 .comm aFileData,384,4
  23              	 .global aFirmwareDownloadHeader
  24              	 .section .rodata.aFirmwareDownloadHeader,"a",%progbits
  25              	 .align 2
  28              	aFirmwareDownloadHeader:
  29 0000 4543     	 .short 17221
  30 0002 4154     	 .short 21569
  31 0004 4657     	 .short 22342
  32 0006 5F5F     	 .short 24415
  33              	 .section .text.FOE_Read,"ax",%progbits
  34              	 .align 2
  35              	 .global FOE_Read
  36              	 .thumb
  37              	 .thumb_func
  39              	FOE_Read:
  40              	.LFB172:
  41              	 .file 1 "../SSC/Src/foeappl.c"
   1:../SSC/Src/foeappl.c **** /**
   2:../SSC/Src/foeappl.c **** \addtogroup FoE FileTransfer over EtherCAT
   3:../SSC/Src/foeappl.c **** @{
   4:../SSC/Src/foeappl.c **** */
   5:../SSC/Src/foeappl.c **** 
   6:../SSC/Src/foeappl.c **** /**
   7:../SSC/Src/foeappl.c **** \file foeappl.c
   8:../SSC/Src/foeappl.c **** \author EthercatSSC@beckhoff.com
   9:../SSC/Src/foeappl.c **** \brief Implementation
  10:../SSC/Src/foeappl.c **** This file contains an example how to use the FoE services
  11:../SSC/Src/foeappl.c **** 
  12:../SSC/Src/foeappl.c **** \version 5.11
  13:../SSC/Src/foeappl.c **** 
  14:../SSC/Src/foeappl.c **** <br>Changes to version V5.10:<br>
  15:../SSC/Src/foeappl.c **** V5.11 FOE2: FoE_Read() check File name buffer before store the requested file name, add string term
  16:../SSC/Src/foeappl.c **** V5.11 TEST5: send a FoE busy on a FoE read request<br>
  17:../SSC/Src/foeappl.c **** V5.11 TEST9: "add behaviour 0x2020.7 (SDO requests on 0x3006.0 are set to pending until an FoE read
  18:../SSC/Src/foeappl.c **** <br>Changes to version V5.0:<br>
  19:../SSC/Src/foeappl.c **** V5.10 FOE2: Update file handling to support File sizes greater than 0x8000 Bytes (change value of "
  20:../SSC/Src/foeappl.c **** <br>Changes to version V4.20:<br>
  21:../SSC/Src/foeappl.c **** V5.0 FOE3: Add additional file name copy operation to provide name byte swapping<br>
  22:../SSC/Src/foeappl.c **** V5.0 FOE5: Add FoE test operation (FOE_SAVE_FILES need to be disabled). On download only the files 
  23:../SSC/Src/foeappl.c **** V5.0 FOE6: Save file if MBX 16Bit access is enabled<br>
  24:../SSC/Src/foeappl.c **** <br>Changes to version V4.11:<br>
  25:../SSC/Src/foeappl.c **** V4.20 FOE 2: Add File store compiler switch<br>
  26:../SSC/Src/foeappl.c **** V4.20 FOE 1: Removed FILESUPPORT<br>
  27:../SSC/Src/foeappl.c **** V4.11 FOE 1: nFileWriteOffset is now a 32bit variable to extend the maximum file size<br>
  28:../SSC/Src/foeappl.c **** <br>Changes to version V3.20:<br>
  29:../SSC/Src/foeappl.c **** V4.10 FOE 1-14: Filetransfer over FoE: Files can be read and stored to harddisk<br>
  30:../SSC/Src/foeappl.c ****                       without any filesizelimitation (FILESUPPORT must defined)
  31:../SSC/Src/foeappl.c **** */
  32:../SSC/Src/foeappl.c **** 
  33:../SSC/Src/foeappl.c **** /*-----------------------------------------------------------------------------------------
  34:../SSC/Src/foeappl.c **** ------
  35:../SSC/Src/foeappl.c **** ------    Includes
  36:../SSC/Src/foeappl.c **** ------
  37:../SSC/Src/foeappl.c **** -----------------------------------------------------------------------------------------*/
  38:../SSC/Src/foeappl.c **** 
  39:../SSC/Src/foeappl.c **** #include "ecat_def.h"
  40:../SSC/Src/foeappl.c **** 
  41:../SSC/Src/foeappl.c **** 
  42:../SSC/Src/foeappl.c **** #include "ecatslv.h"
  43:../SSC/Src/foeappl.c **** 
  44:../SSC/Src/foeappl.c **** #include "ecatfoe.h"
  45:../SSC/Src/foeappl.c **** 
  46:../SSC/Src/foeappl.c **** #define _FOEAPPL_ 1
  47:../SSC/Src/foeappl.c ****     #include "foeappl.h"
  48:../SSC/Src/foeappl.c **** #undef _FOEAPPL_
  49:../SSC/Src/foeappl.c **** #define _FOEAPPL_ 0
  50:../SSC/Src/foeappl.c **** 
  51:../SSC/Src/foeappl.c **** #include "bootmode.h"
  52:../SSC/Src/foeappl.c **** #include "firmwareupdate_SSC.h"
  53:../SSC/Src/foeappl.c **** /*-----------------------------------------------------------------------------------------
  54:../SSC/Src/foeappl.c **** ------
  55:../SSC/Src/foeappl.c **** ------    internal Types and Defines
  56:../SSC/Src/foeappl.c **** ------
  57:../SSC/Src/foeappl.c **** -----------------------------------------------------------------------------------------*/
  58:../SSC/Src/foeappl.c **** 
  59:../SSC/Src/foeappl.c **** #define    MAX_FILE_NAME_SIZE    16
  60:../SSC/Src/foeappl.c **** 
  61:../SSC/Src/foeappl.c **** /*-----------------------------------------------------------------------------------------
  62:../SSC/Src/foeappl.c **** ------
  63:../SSC/Src/foeappl.c **** ------    Module internal function declarations
  64:../SSC/Src/foeappl.c **** ------
  65:../SSC/Src/foeappl.c **** -----------------------------------------------------------------------------------------*/
  66:../SSC/Src/foeappl.c **** 
  67:../SSC/Src/foeappl.c **** /*-----------------------------------------------------------------------------------------
  68:../SSC/Src/foeappl.c **** ------
  69:../SSC/Src/foeappl.c **** ------    Module internal variable definitions
  70:../SSC/Src/foeappl.c **** ------
  71:../SSC/Src/foeappl.c **** -----------------------------------------------------------------------------------------*/
  72:../SSC/Src/foeappl.c **** UINT32             nFileSize;
  73:../SSC/Src/foeappl.c **** UINT32             nFileWriteOffset;
  74:../SSC/Src/foeappl.c **** CHAR             aFileName[MAX_FILE_NAME_SIZE];
  75:../SSC/Src/foeappl.c **** UINT8 MBXMEM     aFileData[MAX_FILE_SIZE];
  76:../SSC/Src/foeappl.c **** const UINT16 HUGE aFirmwareDownloadHeader[4] = {0x4345,0x5441,0x5746,0x5F5F}; // "ECATFW__"
  77:../SSC/Src/foeappl.c **** 
  78:../SSC/Src/foeappl.c **** /*-----------------------------------------------------------------------------------------
  79:../SSC/Src/foeappl.c **** ------
  80:../SSC/Src/foeappl.c **** ------    Functions
  81:../SSC/Src/foeappl.c **** ------
  82:../SSC/Src/foeappl.c **** -----------------------------------------------------------------------------------------*/
  83:../SSC/Src/foeappl.c **** 
  84:../SSC/Src/foeappl.c **** /////////////////////////////////////////////////////////////////////////////////////////
  85:../SSC/Src/foeappl.c **** /**
  86:../SSC/Src/foeappl.c ****  \param     pName         Pointer to the name of the file
  87:../SSC/Src/foeappl.c ****  \param     nameSize      Length of the file name
  88:../SSC/Src/foeappl.c ****  \param     pData         Pointer to the response data
  89:../SSC/Src/foeappl.c ****  \param     password      Password for the file read
  90:../SSC/Src/foeappl.c **** 
  91:../SSC/Src/foeappl.c ****  \return size of the data to be sent, busy or an error code
  92:../SSC/Src/foeappl.c ****             1..FOE_MAXBUSY-101 (size of data to be sent)
  93:../SSC/Src/foeappl.c ****             FOE_MAXBUSY-100 (0%)    (busy)
  94:../SSC/Src/foeappl.c ****             FOE_MAXBUSY (100%) (busy)
  95:../SSC/Src/foeappl.c ****             ECAT_FOE_ERRCODE_NOTDEFINED (error)
  96:../SSC/Src/foeappl.c ****             ECAT_FOE_ERRCODE_NOTFOUND (error)
  97:../SSC/Src/foeappl.c ****             ECAT_FOE_ERRCODE_ACCESS    (error)
  98:../SSC/Src/foeappl.c ****             ECAT_FOE_ERRCODE_DISKFULL (error)
  99:../SSC/Src/foeappl.c ****             ECAT_FOE_ERRCODE_ILLEGAL (error)
 100:../SSC/Src/foeappl.c ****             ECAT_FOE_ERRCODE_PACKENO (error)
 101:../SSC/Src/foeappl.c ****             ECAT_FOE_ERRCODE_EXISTS    (error)
 102:../SSC/Src/foeappl.c ****             ECAT_FOE_ERRCODE_NOUSER    (error)
 103:../SSC/Src/foeappl.c **** 
 104:../SSC/Src/foeappl.c ****  \brief    The function starts a file reading
 105:../SSC/Src/foeappl.c **** 
 106:../SSC/Src/foeappl.c **** *////////////////////////////////////////////////////////////////////////////////////////
 107:../SSC/Src/foeappl.c **** 
 108:../SSC/Src/foeappl.c **** UINT16 FOE_Read(UINT16 MBXMEM * pName, UINT16 nameSize, UINT16 MBXMEM * pData, UINT32 password)
 109:../SSC/Src/foeappl.c **** {
  42              	 .loc 1 109 0
  43              	 .cfi_startproc
  44              	 
  45              	 
  46 0000 80B5     	 push {r7,lr}
  47              	.LCFI0:
  48              	 .cfi_def_cfa_offset 8
  49              	 .cfi_offset 7,-8
  50              	 .cfi_offset 14,-4
  51 0002 8AB0     	 sub sp,sp,#40
  52              	.LCFI1:
  53              	 .cfi_def_cfa_offset 48
  54 0004 00AF     	 add r7,sp,#0
  55              	.LCFI2:
  56              	 .cfi_def_cfa_register 7
  57 0006 F860     	 str r0,[r7,#12]
  58 0008 7A60     	 str r2,[r7,#4]
  59 000a 3B60     	 str r3,[r7]
  60 000c 0B46     	 mov r3,r1
  61 000e 7B81     	 strh r3,[r7,#10]
 110:../SSC/Src/foeappl.c ****     UINT16 size = 0;
  62              	 .loc 1 110 0
  63 0010 0023     	 movs r3,#0
  64 0012 FB84     	 strh r3,[r7,#38]
 111:../SSC/Src/foeappl.c ****     UINT16 i = 0;
  65              	 .loc 1 111 0
  66 0014 0023     	 movs r3,#0
  67 0016 BB84     	 strh r3,[r7,#36]
 112:../SSC/Src/foeappl.c **** 
 113:../SSC/Src/foeappl.c ****     CHAR aReadFileName[MAX_FILE_NAME_SIZE];
 114:../SSC/Src/foeappl.c **** 
 115:../SSC/Src/foeappl.c ****     /* ECATCHANGE_START(V5.11) FOE2*/
 116:../SSC/Src/foeappl.c ****     if ((nameSize + 1) > MAX_FILE_NAME_SIZE)
  68              	 .loc 1 116 0
  69 0018 7B89     	 ldrh r3,[r7,#10]
  70 001a 0133     	 adds r3,r3,#1
  71 001c 102B     	 cmp r3,#16
  72 001e 02DD     	 ble .L2
 117:../SSC/Src/foeappl.c ****     {
 118:../SSC/Src/foeappl.c ****         return ECAT_FOE_ERRCODE_DISKFULL;
  73              	 .loc 1 118 0
  74 0020 48F20303 	 movw r3,#32771
  75 0024 3DE0     	 b .L9
  76              	.L2:
 119:../SSC/Src/foeappl.c ****     }
 120:../SSC/Src/foeappl.c **** 
 121:../SSC/Src/foeappl.c ****     /*Read requested file name to endianess conversion if required*/
 122:../SSC/Src/foeappl.c ****     MBXSTRCPY(aReadFileName, pName, nameSize);
  77              	 .loc 1 122 0
  78 0026 7B89     	 ldrh r3,[r7,#10]
  79 0028 07F11402 	 add r2,r7,#20
  80 002c 1046     	 mov r0,r2
  81 002e F968     	 ldr r1,[r7,#12]
  82 0030 1A46     	 mov r2,r3
  83 0032 FFF7FEFF 	 bl memcpy
 123:../SSC/Src/foeappl.c ****     aReadFileName[nameSize] = '\0';
  84              	 .loc 1 123 0
  85 0036 7B89     	 ldrh r3,[r7,#10]
  86 0038 07F12802 	 add r2,r7,#40
  87 003c 1344     	 add r3,r3,r2
  88 003e 0022     	 movs r2,#0
  89 0040 03F8142C 	 strb r2,[r3,#-20]
 124:../SSC/Src/foeappl.c ****     /* ECATCHANGE_END(V5.11) FOE2*/
 125:../SSC/Src/foeappl.c **** 
 126:../SSC/Src/foeappl.c **** 
 127:../SSC/Src/foeappl.c ****     {
 128:../SSC/Src/foeappl.c ****     /* for test only the written file name can be read */
 129:../SSC/Src/foeappl.c ****     for (i = 0; i < nameSize; i++)
  90              	 .loc 1 129 0
  91 0044 0023     	 movs r3,#0
  92 0046 BB84     	 strh r3,[r7,#36]
  93 0048 10E0     	 b .L4
  94              	.L6:
 130:../SSC/Src/foeappl.c ****     {
 131:../SSC/Src/foeappl.c ****         if (aReadFileName[i] != aFileName[i] )
  95              	 .loc 1 131 0
  96 004a BB8C     	 ldrh r3,[r7,#36]
  97 004c 07F12802 	 add r2,r7,#40
  98 0050 1344     	 add r3,r3,r2
  99 0052 13F8142C 	 ldrb r2,[r3,#-20]
 100 0056 BB8C     	 ldrh r3,[r7,#36]
 101 0058 1449     	 ldr r1,.L10
 102 005a CB5C     	 ldrb r3,[r1,r3]
 103 005c 9A42     	 cmp r2,r3
 104 005e 02D0     	 beq .L5
 132:../SSC/Src/foeappl.c ****             /* file name not found */
 133:../SSC/Src/foeappl.c ****             return ECAT_FOE_ERRCODE_NOTFOUND;
 105              	 .loc 1 133 0
 106 0060 48F20103 	 movw r3,#32769
 107 0064 1DE0     	 b .L9
 108              	.L5:
 129:../SSC/Src/foeappl.c ****     {
 109              	 .loc 1 129 0 discriminator 2
 110 0066 BB8C     	 ldrh r3,[r7,#36]
 111 0068 0133     	 adds r3,r3,#1
 112 006a BB84     	 strh r3,[r7,#36]
 113              	.L4:
 129:../SSC/Src/foeappl.c ****     {
 114              	 .loc 1 129 0 is_stmt 0 discriminator 1
 115 006c BA8C     	 ldrh r2,[r7,#36]
 116 006e 7B89     	 ldrh r3,[r7,#10]
 117 0070 9A42     	 cmp r2,r3
 118 0072 EAD3     	 bcc .L6
 134:../SSC/Src/foeappl.c ****     }
 135:../SSC/Src/foeappl.c **** 
 136:../SSC/Src/foeappl.c ****     if ( nFileSize >= (u16SendMbxSize-SIZEOF(TFOEHEADER)-MBX_HEADER_SIZE) )
 119              	 .loc 1 136 0 is_stmt 1
 120 0074 0E4B     	 ldr r3,.L10+4
 121 0076 1B88     	 ldrh r3,[r3]
 122 0078 A3F10C02 	 sub r2,r3,#12
 123 007c 0D4B     	 ldr r3,.L10+8
 124 007e 1B68     	 ldr r3,[r3]
 125 0080 9A42     	 cmp r2,r3
 126 0082 04D8     	 bhi .L7
 137:../SSC/Src/foeappl.c ****         size = (u16SendMbxSize-SIZEOF(TFOEHEADER)-MBX_HEADER_SIZE);
 127              	 .loc 1 137 0
 128 0084 0A4B     	 ldr r3,.L10+4
 129 0086 1B88     	 ldrh r3,[r3]
 130 0088 0C3B     	 subs r3,r3,#12
 131 008a FB84     	 strh r3,[r7,#38]
 132 008c 02E0     	 b .L8
 133              	.L7:
 138:../SSC/Src/foeappl.c ****     else
 139:../SSC/Src/foeappl.c ****         size = (unsigned short) nFileSize;
 134              	 .loc 1 139 0
 135 008e 094B     	 ldr r3,.L10+8
 136 0090 1B68     	 ldr r3,[r3]
 137 0092 FB84     	 strh r3,[r7,#38]
 138              	.L8:
 140:../SSC/Src/foeappl.c **** 
 141:../SSC/Src/foeappl.c ****     MBXMEMCPY(pData, aFileData, size);
 139              	 .loc 1 141 0
 140 0094 FB8C     	 ldrh r3,[r7,#38]
 141 0096 7868     	 ldr r0,[r7,#4]
 142 0098 0749     	 ldr r1,.L10+12
 143 009a 1A46     	 mov r2,r3
 144 009c FFF7FEFF 	 bl memcpy
 142:../SSC/Src/foeappl.c ****     }
 143:../SSC/Src/foeappl.c ****     return size;
 145              	 .loc 1 143 0
 146 00a0 FB8C     	 ldrh r3,[r7,#38]
 147              	.L9:
 144:../SSC/Src/foeappl.c **** }
 148              	 .loc 1 144 0 discriminator 1
 149 00a2 1846     	 mov r0,r3
 150 00a4 2837     	 adds r7,r7,#40
 151              	.LCFI3:
 152              	 .cfi_def_cfa_offset 8
 153 00a6 BD46     	 mov sp,r7
 154              	.LCFI4:
 155              	 .cfi_def_cfa_register 13
 156              	 
 157 00a8 80BD     	 pop {r7,pc}
 158              	.L11:
 159 00aa 00BF     	 .align 2
 160              	.L10:
 161 00ac 00000000 	 .word aFileName
 162 00b0 00000000 	 .word u16SendMbxSize
 163 00b4 00000000 	 .word nFileSize
 164 00b8 00000000 	 .word aFileData
 165              	 .cfi_endproc
 166              	.LFE172:
 168              	 .section .text.FOE_Write,"ax",%progbits
 169              	 .align 2
 170              	 .global FOE_Write
 171              	 .thumb
 172              	 .thumb_func
 174              	FOE_Write:
 175              	.LFB173:
 145:../SSC/Src/foeappl.c **** 
 146:../SSC/Src/foeappl.c **** 
 147:../SSC/Src/foeappl.c **** /////////////////////////////////////////////////////////////////////////////////////////
 148:../SSC/Src/foeappl.c **** /**
 149:../SSC/Src/foeappl.c ****  \param     pName         Pointer to the name of the file
 150:../SSC/Src/foeappl.c ****  \param     nameSize      Length of the file name
 151:../SSC/Src/foeappl.c ****  \param     password      Password for the file read
 152:../SSC/Src/foeappl.c **** 
 153:../SSC/Src/foeappl.c ****  \return okay, busy or an error code
 154:../SSC/Src/foeappl.c ****             0 (okay)
 155:../SSC/Src/foeappl.c ****             ECAT_FOE_ERRCODE_NOTDEFINED (error)
 156:../SSC/Src/foeappl.c ****             ECAT_FOE_ERRCODE_NOTFOUND (error)
 157:../SSC/Src/foeappl.c ****             ECAT_FOE_ERRCODE_ACCESS    (error)
 158:../SSC/Src/foeappl.c ****             ECAT_FOE_ERRCODE_DISKFULL (error)
 159:../SSC/Src/foeappl.c ****             ECAT_FOE_ERRCODE_ILLEGAL (error)
 160:../SSC/Src/foeappl.c ****             ECAT_FOE_ERRCODE_PACKENO (error)
 161:../SSC/Src/foeappl.c ****             ECAT_FOE_ERRCODE_EXISTS    (error)
 162:../SSC/Src/foeappl.c ****             ECAT_FOE_ERRCODE_NOUSER    (error)
 163:../SSC/Src/foeappl.c **** 
 164:../SSC/Src/foeappl.c ****             (no busy response shall be returned by this function.
 165:../SSC/Src/foeappl.c ****             If the slave stack requires some time to handle the incoming data the function FOE_Data
 166:../SSC/Src/foeappl.c **** 
 167:../SSC/Src/foeappl.c ****  \brief    The function starts a file writing
 168:../SSC/Src/foeappl.c **** 
 169:../SSC/Src/foeappl.c **** *////////////////////////////////////////////////////////////////////////////////////////
 170:../SSC/Src/foeappl.c **** 
 171:../SSC/Src/foeappl.c **** UINT16 FOE_Write(UINT16 MBXMEM * pName, UINT16 nameSize, UINT32 password)
 172:../SSC/Src/foeappl.c **** {
 176              	 .loc 1 172 0
 177              	 .cfi_startproc
 178              	 
 179              	 
 180 0000 80B5     	 push {r7,lr}
 181              	.LCFI5:
 182              	 .cfi_def_cfa_offset 8
 183              	 .cfi_offset 7,-8
 184              	 .cfi_offset 14,-4
 185 0002 84B0     	 sub sp,sp,#16
 186              	.LCFI6:
 187              	 .cfi_def_cfa_offset 24
 188 0004 00AF     	 add r7,sp,#0
 189              	.LCFI7:
 190              	 .cfi_def_cfa_register 7
 191 0006 F860     	 str r0,[r7,#12]
 192 0008 0B46     	 mov r3,r1
 193 000a 7A60     	 str r2,[r7,#4]
 194 000c 7B81     	 strh r3,[r7,#10]
 173:../SSC/Src/foeappl.c ****     if ( bBootMode )
 195              	 .loc 1 173 0
 196 000e 0A4B     	 ldr r3,.L16
 197 0010 1B78     	 ldrb r3,[r3]
 198 0012 002B     	 cmp r3,#0
 199 0014 0AD0     	 beq .L13
 174:../SSC/Src/foeappl.c ****     {
 175:../SSC/Src/foeappl.c ****     	if(password == 0xBEEFBEEF)
 200              	 .loc 1 175 0
 201 0016 7B68     	 ldr r3,[r7,#4]
 202 0018 084A     	 ldr r2,.L16+4
 203 001a 9342     	 cmp r3,r2
 204 001c 03D1     	 bne .L14
 176:../SSC/Src/foeappl.c ****     	{
 177:../SSC/Src/foeappl.c ****     		FWUPDATE_StartDownload();
 205              	 .loc 1 177 0
 206 001e FFF7FEFF 	 bl FWUPDATE_StartDownload
 178:../SSC/Src/foeappl.c ****     		return 0;
 207              	 .loc 1 178 0
 208 0022 0023     	 movs r3,#0
 209 0024 04E0     	 b .L15
 210              	.L14:
 179:../SSC/Src/foeappl.c ****     	}
 180:../SSC/Src/foeappl.c ****     	else
 181:../SSC/Src/foeappl.c ****     		return ECAT_FOE_ERRCODE_ILLEGAL;
 211              	 .loc 1 181 0
 212 0026 48F20403 	 movw r3,#32772
 213 002a 01E0     	 b .L15
 214              	.L13:
 182:../SSC/Src/foeappl.c ****     }
 183:../SSC/Src/foeappl.c ****     else
 184:../SSC/Src/foeappl.c ****         return ECAT_FOE_ERRCODE_DISKFULL;
 215              	 .loc 1 184 0
 216 002c 48F20303 	 movw r3,#32771
 217              	.L15:
 185:../SSC/Src/foeappl.c **** }
 218              	 .loc 1 185 0
 219 0030 1846     	 mov r0,r3
 220 0032 1037     	 adds r7,r7,#16
 221              	.LCFI8:
 222              	 .cfi_def_cfa_offset 8
 223 0034 BD46     	 mov sp,r7
 224              	.LCFI9:
 225              	 .cfi_def_cfa_register 13
 226              	 
 227 0036 80BD     	 pop {r7,pc}
 228              	.L17:
 229              	 .align 2
 230              	.L16:
 231 0038 00000000 	 .word bBootMode
 232 003c EFBEEFBE 	 .word -1091584273
 233              	 .cfi_endproc
 234              	.LFE173:
 236              	 .section .text.FOE_Data,"ax",%progbits
 237              	 .align 2
 238              	 .global FOE_Data
 239              	 .thumb
 240              	 .thumb_func
 242              	FOE_Data:
 243              	.LFB174:
 186:../SSC/Src/foeappl.c **** 
 187:../SSC/Src/foeappl.c **** 
 188:../SSC/Src/foeappl.c **** /////////////////////////////////////////////////////////////////////////////////////////
 189:../SSC/Src/foeappl.c **** /**
 190:../SSC/Src/foeappl.c ****  \param     pData         Received file data
 191:../SSC/Src/foeappl.c ****  \param 	Size          Length of received file data
 192:../SSC/Src/foeappl.c **** 
 193:../SSC/Src/foeappl.c ****  \return okay, busy or an error code
 194:../SSC/Src/foeappl.c ****             0 (okay)
 195:../SSC/Src/foeappl.c ****             FOE_MAXBUSY-100 (0%)    (busy)
 196:../SSC/Src/foeappl.c ****             FOE_MAXBUSY (100%) (busy)
 197:../SSC/Src/foeappl.c ****             ECAT_FOE_ERRCODE_NOTDEFINED (error)
 198:../SSC/Src/foeappl.c ****             ECAT_FOE_ERRCODE_NOTFOUND (error)
 199:../SSC/Src/foeappl.c ****             ECAT_FOE_ERRCODE_ACCESS    (error)
 200:../SSC/Src/foeappl.c ****             ECAT_FOE_ERRCODE_DISKFULL (error)
 201:../SSC/Src/foeappl.c ****             ECAT_FOE_ERRCODE_ILLEGAL (error)
 202:../SSC/Src/foeappl.c ****             ECAT_FOE_ERRCODE_PACKENO (error)
 203:../SSC/Src/foeappl.c ****             ECAT_FOE_ERRCODE_EXISTS    (error)
 204:../SSC/Src/foeappl.c ****             ECAT_FOE_ERRCODE_NOUSER    (error)
 205:../SSC/Src/foeappl.c **** 
 206:../SSC/Src/foeappl.c ****  \brief    The function is called to write the next part of a file
 207:../SSC/Src/foeappl.c **** 
 208:../SSC/Src/foeappl.c **** *////////////////////////////////////////////////////////////////////////////////////////
 209:../SSC/Src/foeappl.c **** 
 210:../SSC/Src/foeappl.c **** UINT16 FOE_Data(UINT16 MBXMEM * pData, UINT16 Size)
 211:../SSC/Src/foeappl.c **** {
 244              	 .loc 1 211 0
 245              	 .cfi_startproc
 246              	 
 247              	 
 248 0000 80B5     	 push {r7,lr}
 249              	.LCFI10:
 250              	 .cfi_def_cfa_offset 8
 251              	 .cfi_offset 7,-8
 252              	 .cfi_offset 14,-4
 253 0002 82B0     	 sub sp,sp,#8
 254              	.LCFI11:
 255              	 .cfi_def_cfa_offset 16
 256 0004 00AF     	 add r7,sp,#0
 257              	.LCFI12:
 258              	 .cfi_def_cfa_register 7
 259 0006 7860     	 str r0,[r7,#4]
 260 0008 0B46     	 mov r3,r1
 261 000a 7B80     	 strh r3,[r7,#2]
 212:../SSC/Src/foeappl.c ****     if ( bBootMode )
 262              	 .loc 1 212 0
 263 000c 084B     	 ldr r3,.L21
 264 000e 1B78     	 ldrb r3,[r3]
 265 0010 002B     	 cmp r3,#0
 266 0012 06D0     	 beq .L19
 213:../SSC/Src/foeappl.c ****     {
 214:../SSC/Src/foeappl.c ****         return FWUPDATE_Data(pData, Size);
 267              	 .loc 1 214 0
 268 0014 7B88     	 ldrh r3,[r7,#2]
 269 0016 7868     	 ldr r0,[r7,#4]
 270 0018 1946     	 mov r1,r3
 271 001a FFF7FEFF 	 bl FWUPDATE_Data
 272 001e 0346     	 mov r3,r0
 273 0020 01E0     	 b .L20
 274              	.L19:
 215:../SSC/Src/foeappl.c ****     }
 216:../SSC/Src/foeappl.c ****     else
 217:../SSC/Src/foeappl.c ****     	return ECAT_FOE_ERRCODE_DISKFULL;
 275              	 .loc 1 217 0
 276 0022 48F20303 	 movw r3,#32771
 277              	.L20:
 218:../SSC/Src/foeappl.c **** }
 278              	 .loc 1 218 0
 279 0026 1846     	 mov r0,r3
 280 0028 0837     	 adds r7,r7,#8
 281              	.LCFI13:
 282              	 .cfi_def_cfa_offset 8
 283 002a BD46     	 mov sp,r7
 284              	.LCFI14:
 285              	 .cfi_def_cfa_register 13
 286              	 
 287 002c 80BD     	 pop {r7,pc}
 288              	.L22:
 289 002e 00BF     	 .align 2
 290              	.L21:
 291 0030 00000000 	 .word bBootMode
 292              	 .cfi_endproc
 293              	.LFE174:
 295              	 .section .text.FOE_Ack,"ax",%progbits
 296              	 .align 2
 297              	 .global FOE_Ack
 298              	 .thumb
 299              	 .thumb_func
 301              	FOE_Ack:
 302              	.LFB175:
 219:../SSC/Src/foeappl.c **** 
 220:../SSC/Src/foeappl.c **** 
 221:../SSC/Src/foeappl.c **** /////////////////////////////////////////////////////////////////////////////////////////
 222:../SSC/Src/foeappl.c **** /**
 223:../SSC/Src/foeappl.c ****  \param     fileOffset    Offset of the next file data to be sent
 224:../SSC/Src/foeappl.c ****  \param     pData         Buffer for file data to be sent
 225:../SSC/Src/foeappl.c **** 
 226:../SSC/Src/foeappl.c ****  \return size of the data to be sent, busy or an error code
 227:../SSC/Src/foeappl.c ****             0 (all data was sent before)
 228:../SSC/Src/foeappl.c ****             1..MAX_FILE_SIZE (size of data to be sent)
 229:../SSC/Src/foeappl.c ****             FOE_MAXBUSY-100 (0%)    (busy)
 230:../SSC/Src/foeappl.c ****             FOE_MAXBUSY (100%) (busy)
 231:../SSC/Src/foeappl.c ****             ECAT_FOE_ERRCODE_NOTDEFINED (error)
 232:../SSC/Src/foeappl.c ****             ECAT_FOE_ERRCODE_NOTFOUND (error)
 233:../SSC/Src/foeappl.c ****             ECAT_FOE_ERRCODE_ACCESS    (error)
 234:../SSC/Src/foeappl.c ****             ECAT_FOE_ERRCODE_DISKFULL (error)
 235:../SSC/Src/foeappl.c ****             ECAT_FOE_ERRCODE_ILLEGAL (error)
 236:../SSC/Src/foeappl.c ****             ECAT_FOE_ERRCODE_PACKENO (error)
 237:../SSC/Src/foeappl.c ****             ECAT_FOE_ERRCODE_EXISTS    (error)
 238:../SSC/Src/foeappl.c ****             ECAT_FOE_ERRCODE_NOUSER    (error)
 239:../SSC/Src/foeappl.c **** 
 240:../SSC/Src/foeappl.c ****  \brief    The function is called when the reading of a part of a file is acknowledged
 241:../SSC/Src/foeappl.c **** 
 242:../SSC/Src/foeappl.c **** *////////////////////////////////////////////////////////////////////////////////////////
 243:../SSC/Src/foeappl.c **** 
 244:../SSC/Src/foeappl.c **** UINT16 FOE_Ack(UINT32 fileOffset, UINT16 MBXMEM * pData)
 245:../SSC/Src/foeappl.c **** {
 303              	 .loc 1 245 0
 304              	 .cfi_startproc
 305              	 
 306              	 
 307 0000 80B5     	 push {r7,lr}
 308              	.LCFI15:
 309              	 .cfi_def_cfa_offset 8
 310              	 .cfi_offset 7,-8
 311              	 .cfi_offset 14,-4
 312 0002 84B0     	 sub sp,sp,#16
 313              	.LCFI16:
 314              	 .cfi_def_cfa_offset 24
 315 0004 00AF     	 add r7,sp,#0
 316              	.LCFI17:
 317              	 .cfi_def_cfa_register 7
 318 0006 7860     	 str r0,[r7,#4]
 319 0008 3960     	 str r1,[r7]
 246:../SSC/Src/foeappl.c ****     if ( fileOffset < nFileSize )
 320              	 .loc 1 246 0
 321 000a 184B     	 ldr r3,.L29
 322 000c 1B68     	 ldr r3,[r3]
 323 000e 7A68     	 ldr r2,[r7,#4]
 324 0010 9A42     	 cmp r2,r3
 325 0012 1DD2     	 bcs .L24
 326              	.LBB2:
 247:../SSC/Src/foeappl.c ****     {
 248:../SSC/Src/foeappl.c ****         /* send next part of the file */
 249:../SSC/Src/foeappl.c ****         UINT32 size;
 250:../SSC/Src/foeappl.c ****         UINT32 sendSize = nFileSize-fileOffset;
 327              	 .loc 1 250 0
 328 0014 154B     	 ldr r3,.L29
 329 0016 1A68     	 ldr r2,[r3]
 330 0018 7B68     	 ldr r3,[r7,#4]
 331 001a D31A     	 subs r3,r2,r3
 332 001c BB60     	 str r3,[r7,#8]
 251:../SSC/Src/foeappl.c **** 
 252:../SSC/Src/foeappl.c ****         if ( sendSize >= (u16SendMbxSize-SIZEOF(TFOEHEADER)-MBX_HEADER_SIZE) )
 333              	 .loc 1 252 0
 334 001e 144B     	 ldr r3,.L29+4
 335 0020 1B88     	 ldrh r3,[r3]
 336 0022 A3F10C02 	 sub r2,r3,#12
 337 0026 BB68     	 ldr r3,[r7,#8]
 338 0028 9A42     	 cmp r2,r3
 339 002a 04D8     	 bhi .L25
 253:../SSC/Src/foeappl.c ****         {
 254:../SSC/Src/foeappl.c ****             size = (u16SendMbxSize-SIZEOF(TFOEHEADER)-MBX_HEADER_SIZE);
 340              	 .loc 1 254 0
 341 002c 104B     	 ldr r3,.L29+4
 342 002e 1B88     	 ldrh r3,[r3]
 343 0030 0C3B     	 subs r3,r3,#12
 344 0032 FB60     	 str r3,[r7,#12]
 345 0034 01E0     	 b .L26
 346              	.L25:
 255:../SSC/Src/foeappl.c ****         }
 256:../SSC/Src/foeappl.c ****         else
 257:../SSC/Src/foeappl.c ****         {
 258:../SSC/Src/foeappl.c ****             size = sendSize;
 347              	 .loc 1 258 0
 348 0036 BB68     	 ldr r3,[r7,#8]
 349 0038 FB60     	 str r3,[r7,#12]
 350              	.L26:
 259:../SSC/Src/foeappl.c ****         }
 260:../SSC/Src/foeappl.c ****         MBXMEMCPY(pData, &aFileData[fileOffset], size);
 351              	 .loc 1 260 0
 352 003a 7B68     	 ldr r3,[r7,#4]
 353 003c 0D4A     	 ldr r2,.L29+8
 354 003e 1344     	 add r3,r3,r2
 355 0040 3868     	 ldr r0,[r7]
 356 0042 1946     	 mov r1,r3
 357 0044 FA68     	 ldr r2,[r7,#12]
 358 0046 FFF7FEFF 	 bl memcpy
 261:../SSC/Src/foeappl.c **** 
 262:../SSC/Src/foeappl.c ****         return ((UINT16) size);
 359              	 .loc 1 262 0
 360 004a FB68     	 ldr r3,[r7,#12]
 361 004c 9BB2     	 uxth r3,r3
 362 004e 08E0     	 b .L27
 363              	.L24:
 364              	.LBE2:
 263:../SSC/Src/foeappl.c ****     }
 264:../SSC/Src/foeappl.c ****     else if ( fileOffset == nFileSize )
 365              	 .loc 1 264 0
 366 0050 064B     	 ldr r3,.L29
 367 0052 1B68     	 ldr r3,[r3]
 368 0054 7A68     	 ldr r2,[r7,#4]
 369 0056 9A42     	 cmp r2,r3
 370 0058 01D1     	 bne .L28
 265:../SSC/Src/foeappl.c ****     {
 266:../SSC/Src/foeappl.c ****         /* file transfer is finished */
 267:../SSC/Src/foeappl.c ****         return 0; // size = 0
 371              	 .loc 1 267 0
 372 005a 0023     	 movs r3,#0
 373 005c 01E0     	 b .L27
 374              	.L28:
 268:../SSC/Src/foeappl.c ****     }
 269:../SSC/Src/foeappl.c ****     else
 270:../SSC/Src/foeappl.c ****         return ECAT_FOE_ERRCODE_ILLEGAL;
 375              	 .loc 1 270 0
 376 005e 48F20403 	 movw r3,#32772
 377              	.L27:
 271:../SSC/Src/foeappl.c **** 
 272:../SSC/Src/foeappl.c **** }
 378              	 .loc 1 272 0
 379 0062 1846     	 mov r0,r3
 380 0064 1037     	 adds r7,r7,#16
 381              	.LCFI18:
 382              	 .cfi_def_cfa_offset 8
 383 0066 BD46     	 mov sp,r7
 384              	.LCFI19:
 385              	 .cfi_def_cfa_register 13
 386              	 
 387 0068 80BD     	 pop {r7,pc}
 388              	.L30:
 389 006a 00BF     	 .align 2
 390              	.L29:
 391 006c 00000000 	 .word nFileSize
 392 0070 00000000 	 .word u16SendMbxSize
 393 0074 00000000 	 .word aFileData
 394              	 .cfi_endproc
 395              	.LFE175:
 397              	 .section .text.FOE_Busy,"ax",%progbits
 398              	 .align 2
 399              	 .global FOE_Busy
 400              	 .thumb
 401              	 .thumb_func
 403              	FOE_Busy:
 404              	.LFB176:
 273:../SSC/Src/foeappl.c **** 
 274:../SSC/Src/foeappl.c **** 
 275:../SSC/Src/foeappl.c **** /////////////////////////////////////////////////////////////////////////////////////////
 276:../SSC/Src/foeappl.c **** /**
 277:../SSC/Src/foeappl.c ****  \param     done          Indicates how much of the busy action is done
 278:../SSC/Src/foeappl.c ****  \param     fileOffset    Offset of the next file data to be sent
 279:../SSC/Src/foeappl.c ****  \param     pData         Buffer for file data to be sent
 280:../SSC/Src/foeappl.c **** 
 281:../SSC/Src/foeappl.c ****  \return size of the data to be sent, busy or an error code
 282:../SSC/Src/foeappl.c ****             0 (all data was sent before)
 283:../SSC/Src/foeappl.c ****             1..MAX_FILE_SIZE (size of data to be sent)
 284:../SSC/Src/foeappl.c ****             FOE_MAXBUSY-100 (0%)    (busy)
 285:../SSC/Src/foeappl.c ****             FOE_MAXBUSY (100%) (busy)
 286:../SSC/Src/foeappl.c ****             ECAT_FOE_ERRCODE_NOTDEFINED (error)
 287:../SSC/Src/foeappl.c ****             ECAT_FOE_ERRCODE_NOTFOUND (error)
 288:../SSC/Src/foeappl.c ****             ECAT_FOE_ERRCODE_ACCESS    (error)
 289:../SSC/Src/foeappl.c ****             ECAT_FOE_ERRCODE_DISKFULL (error)
 290:../SSC/Src/foeappl.c ****             ECAT_FOE_ERRCODE_ILLEGAL (error)
 291:../SSC/Src/foeappl.c ****             ECAT_FOE_ERRCODE_PACKENO (error)
 292:../SSC/Src/foeappl.c ****             ECAT_FOE_ERRCODE_EXISTS    (error)
 293:../SSC/Src/foeappl.c ****             ECAT_FOE_ERRCODE_NOUSER    (error)
 294:../SSC/Src/foeappl.c **** 
 295:../SSC/Src/foeappl.c ****  \brief    The function is called when the reading of a part of a file should be repeated
 296:../SSC/Src/foeappl.c **** 
 297:../SSC/Src/foeappl.c **** *////////////////////////////////////////////////////////////////////////////////////////
 298:../SSC/Src/foeappl.c **** 
 299:../SSC/Src/foeappl.c **** UINT16 FOE_Busy(UINT16 done, UINT32 fileOffset, UINT16 MBXMEM * pData)
 300:../SSC/Src/foeappl.c **** {
 405              	 .loc 1 300 0
 406              	 .cfi_startproc
 407              	 
 408              	 
 409 0000 80B5     	 push {r7,lr}
 410              	.LCFI20:
 411              	 .cfi_def_cfa_offset 8
 412              	 .cfi_offset 7,-8
 413              	 .cfi_offset 14,-4
 414 0002 84B0     	 sub sp,sp,#16
 415              	.LCFI21:
 416              	 .cfi_def_cfa_offset 24
 417 0004 00AF     	 add r7,sp,#0
 418              	.LCFI22:
 419              	 .cfi_def_cfa_register 7
 420 0006 0346     	 mov r3,r0
 421 0008 B960     	 str r1,[r7,#8]
 422 000a 7A60     	 str r2,[r7,#4]
 423 000c FB81     	 strh r3,[r7,#14]
 301:../SSC/Src/foeappl.c ****     /* send last part again */
 302:../SSC/Src/foeappl.c ****     return FOE_Ack(fileOffset, pData);
 424              	 .loc 1 302 0
 425 000e B868     	 ldr r0,[r7,#8]
 426 0010 7968     	 ldr r1,[r7,#4]
 427 0012 FFF7FEFF 	 bl FOE_Ack
 428 0016 0346     	 mov r3,r0
 303:../SSC/Src/foeappl.c **** }
 429              	 .loc 1 303 0
 430 0018 1846     	 mov r0,r3
 431 001a 1037     	 adds r7,r7,#16
 432              	.LCFI23:
 433              	 .cfi_def_cfa_offset 8
 434 001c BD46     	 mov sp,r7
 435              	.LCFI24:
 436              	 .cfi_def_cfa_register 13
 437              	 
 438 001e 80BD     	 pop {r7,pc}
 439              	 .cfi_endproc
 440              	.LFE176:
 442              	 .section .text.FOE_Error,"ax",%progbits
 443              	 .align 2
 444              	 .global FOE_Error
 445              	 .thumb
 446              	 .thumb_func
 448              	FOE_Error:
 449              	.LFB177:
 304:../SSC/Src/foeappl.c **** 
 305:../SSC/Src/foeappl.c **** 
 306:../SSC/Src/foeappl.c **** /////////////////////////////////////////////////////////////////////////////////////////
 307:../SSC/Src/foeappl.c **** /**
 308:../SSC/Src/foeappl.c ****  \param     errorCode    error code
 309:../SSC/Src/foeappl.c **** 
 310:../SSC/Src/foeappl.c ****  \brief    The function is called when a file transfer is aborted from the other station
 311:../SSC/Src/foeappl.c **** 
 312:../SSC/Src/foeappl.c **** *////////////////////////////////////////////////////////////////////////////////////////
 313:../SSC/Src/foeappl.c **** 
 314:../SSC/Src/foeappl.c **** void FOE_Error(UINT32 errorCode)
 315:../SSC/Src/foeappl.c **** {
 450              	 .loc 1 315 0
 451              	 .cfi_startproc
 452              	 
 453              	 
 454 0000 80B5     	 push {r7,lr}
 455              	.LCFI25:
 456              	 .cfi_def_cfa_offset 8
 457              	 .cfi_offset 7,-8
 458              	 .cfi_offset 14,-4
 459 0002 82B0     	 sub sp,sp,#8
 460              	.LCFI26:
 461              	 .cfi_def_cfa_offset 16
 462 0004 00AF     	 add r7,sp,#0
 463              	.LCFI27:
 464              	 .cfi_def_cfa_register 7
 465 0006 7860     	 str r0,[r7,#4]
 316:../SSC/Src/foeappl.c ****     if ( nFileWriteOffset )
 466              	 .loc 1 316 0
 467 0008 084B     	 ldr r3,.L35
 468 000a 1B68     	 ldr r3,[r3]
 469 000c 002B     	 cmp r3,#0
 470 000e 0AD0     	 beq .L33
 317:../SSC/Src/foeappl.c ****     {
 318:../SSC/Src/foeappl.c ****         /* no file is stored */
 319:../SSC/Src/foeappl.c ****         memset(aFileName, 0, MAX_FILE_NAME_SIZE);
 471              	 .loc 1 319 0
 472 0010 0748     	 ldr r0,.L35+4
 473 0012 0021     	 movs r1,#0
 474 0014 1022     	 movs r2,#16
 475 0016 FFF7FEFF 	 bl memset
 320:../SSC/Src/foeappl.c ****         nFileWriteOffset = 0;
 476              	 .loc 1 320 0
 477 001a 044B     	 ldr r3,.L35
 478 001c 0022     	 movs r2,#0
 479 001e 1A60     	 str r2,[r3]
 321:../SSC/Src/foeappl.c ****         nFileSize = 0;
 480              	 .loc 1 321 0
 481 0020 044B     	 ldr r3,.L35+8
 482 0022 0022     	 movs r2,#0
 483 0024 1A60     	 str r2,[r3]
 484              	.L33:
 322:../SSC/Src/foeappl.c ****     }
 323:../SSC/Src/foeappl.c **** }
 485              	 .loc 1 323 0
 486 0026 0837     	 adds r7,r7,#8
 487              	.LCFI28:
 488              	 .cfi_def_cfa_offset 8
 489 0028 BD46     	 mov sp,r7
 490              	.LCFI29:
 491              	 .cfi_def_cfa_register 13
 492              	 
 493 002a 80BD     	 pop {r7,pc}
 494              	.L36:
 495              	 .align 2
 496              	.L35:
 497 002c 00000000 	 .word nFileWriteOffset
 498 0030 00000000 	 .word aFileName
 499 0034 00000000 	 .word nFileSize
 500              	 .cfi_endproc
 501              	.LFE177:
 503              	 .text
 504              	.Letext0:
 505              	 .file 2 "c:\\davev4-64bit\\dave-4.3.2\\eclipse\\arm-gcc-49\\arm-none-eabi\\include\\machine\\_default_types.h"
 506              	 .file 3 "c:\\davev4-64bit\\dave-4.3.2\\eclipse\\arm-gcc-49\\arm-none-eabi\\include\\stdint.h"
 507              	 .file 4 "C:/Workspaces/SOES-FW-UPDATE/ETHCAT_FWUPDATE_SSC_APPLICATION_XMC48/Libraries/CMSIS/Include/core_cm4.h"
 508              	 .file 5 "../SSC/Src/ecatslv.h"
 509              	 .file 6 "../SSC/Src/mailbox.h"
DEFINED SYMBOLS
                            *ABS*:00000000 foeappl.c
                            *COM*:00000004 nFileSize
                            *COM*:00000004 nFileWriteOffset
                            *COM*:00000010 aFileName
                            *COM*:00000180 aFileData
    {standard input}:28     .rodata.aFirmwareDownloadHeader:00000000 aFirmwareDownloadHeader
    {standard input}:25     .rodata.aFirmwareDownloadHeader:00000000 $d
    {standard input}:34     .text.FOE_Read:00000000 $t
    {standard input}:39     .text.FOE_Read:00000000 FOE_Read
    {standard input}:161    .text.FOE_Read:000000ac $d
    {standard input}:169    .text.FOE_Write:00000000 $t
    {standard input}:174    .text.FOE_Write:00000000 FOE_Write
    {standard input}:231    .text.FOE_Write:00000038 $d
    {standard input}:237    .text.FOE_Data:00000000 $t
    {standard input}:242    .text.FOE_Data:00000000 FOE_Data
    {standard input}:291    .text.FOE_Data:00000030 $d
    {standard input}:296    .text.FOE_Ack:00000000 $t
    {standard input}:301    .text.FOE_Ack:00000000 FOE_Ack
    {standard input}:391    .text.FOE_Ack:0000006c $d
    {standard input}:398    .text.FOE_Busy:00000000 $t
    {standard input}:403    .text.FOE_Busy:00000000 FOE_Busy
    {standard input}:443    .text.FOE_Error:00000000 $t
    {standard input}:448    .text.FOE_Error:00000000 FOE_Error
    {standard input}:497    .text.FOE_Error:0000002c $d
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
memcpy
u16SendMbxSize
FWUPDATE_StartDownload
bBootMode
FWUPDATE_Data
memset
